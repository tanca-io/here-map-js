"use strict";function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var util=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isFunction=function(e){return"function"==typeof e}}),util_1=(unwrapExports(util),util.isArray),util_2=util.isString,util_3=util.isFunction,get_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var s={};t.default=function t(u,e){if((0,util.isString)(u))return new Promise(function(e,t){function r(){s[n]=!0,(0,util.isFunction)(o)&&o()}var n,o,i,c;o=function(){return e(!0)},i=function(){return t()},s[n=u]?r():((c=document.createElement("script")).type="text/javascript",c.readyState?c.onreadystatechange=function(){"loaded"!=c.readyState&&"complete"!=c.readyState||(c.onreadystatechange=null,r())}:c.onload=function(){r()},c.onerror=function(e){s[n]=!1,console.log("error",e),(0,util.isFunction)(i)&&i()},c.src=n,(document.body||document.head||document).appendChild(c))});var r;if((0,util.isArray)(u))return r=Promise.resolve(!0),u.forEach(function(e){r=r.then(function(){return t(e)})}),r;throw new Error("Invalid argument for get()")}}),getJs=(unwrapExports(get_1),get_1.default),defaults={VERSION:"v3/3.0",interactive:!1,includeUI:!1,includePlaces:!1},merge=createCommonjsModule(function(e){function t(e,t,r){var n=r[0],o=r.length;!e&&"object"===l(n)||(n={});for(var i=0;i<o;++i){var c,u=r[i],s=l(u);if("object"===s)for(var a in u)"__proto__"!==a&&(c=e?f.clone(u[a]):u[a],n[a]=t?function e(t,r){if("object"!==l(t))return r;for(var n in r)"object"===l(t[n])&&"object"===l(r[n])?t[n]=e(t[n],r[n]):t[n]=r[n];return t}(n[a],c):c)}return n}function l(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var r,f;r=e&&e.exports,(f=function(e){return t(!0===e,!1,arguments)}).recursive=function(e){return t(!0===e,!0,arguments)},f.clone=function(e){var t,r,n=e,o=l(e);if("array"===o)for(n=[],r=e.length,t=0;t<r;++t)n[t]=f.clone(e[t]);else if("object"===o)for(t in n={},e)n[t]=f.clone(e[t]);return n},r?e.exports=f:window.merge=f}),buildScriptURLs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaults.VERSION;return["https://js.api.here.com/".concat(e,"/mapsjs-service.js"),"https://js.api.here.com/".concat(e,"/mapsjs-ui.js"),"https://js.api.here.com/".concat(e,"/mapsjs-mapevents.js")]},merger=function(e){return merge(defaults,e)},scriptLoader=function(e){var e=merger(e||{}),t=e.VERSION,r=e.version,n=e.interactive,o=e.includeUI,e=e.includePlaces,i=r||t,c=buildScriptURLs(i),r=(n||c.splice(2,1),o||c.splice(1,1),e||c.splice(3,1),"https://js.api.here.com/".concat(i,"/mapsjs-core.js"));return getJs(r).then(function(){var e;return o&&((e=document.createElement("link")).setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://js.api.here.com/".concat(i,"/mapsjs-ui.css")),document.getElementsByTagName("head")[0].append(e)),getJs(c)}).catch(function(e){console.log(e)})};module.exports=scriptLoader;
